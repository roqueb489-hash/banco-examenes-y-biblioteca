<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Banco de Exámenes - IEP San Luis Gonzaga</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
:root{--bg:#0f172a;--s:#1e293b;--t:#e2e8f0;--az:#1e40af;--am:#fbbf24}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--t);padding-top:80px}
header{background:var(--s);position:fixed;top:0;left:0;right:0;z-index:99;padding:1rem;text-align:center;box-shadow:0 4px 20px rgba(0,0,0,0.5)}
header h1{font-size:2.5rem;color:var(--am);font-weight:900}
.container{max-width:1400px;margin:0 auto;padding:2rem}
.section-title{font-size:2.8rem;color:var(--am);text-align:center;margin:4rem 0 2rem}
.cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:2rem}
.card{background:var(--s);border-radius:20px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.5);transition:.3s}
.card:hover{transform:translateY(-10px)}
.card img{height:200px;width:100%;object-fit:cover}
.card h3{padding:1rem;font-size:1.4rem;text-align:center}
.btn{padding:0.8rem 1.5rem;margin:0.5rem;border-radius:12px;text-decoration:none;font-weight:700;display:inline-block}
.ver{background:var(--az);color:white}
.desc{background:var(--am);color:black}
.upload{background:var(--s);border:3px dashed var(--az);border-radius:20px;padding:3rem;text-align:center;margin:3rem 0;cursor:pointer}
.upload button{background:var(--am);color:black;padding:1rem 3rem;border:none;border-radius:50px;font-size:1.3rem;font-weight:900}

/* MODAL EXAMEN */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.9);backdrop-filter:blur(10px);z-index:9999;align-items:center;justify-content:center;padding:20px}
.modal.active{display:flex}
.modal-box{background:var(--s);border-radius:24px;padding:2.5rem;max-width:500px;width:100%;text-align:center;color:white}
.modal-box h2{color:var(--am);font-size:2.2rem;margin-bottom:1rem}
.modal-box input{width:100%;padding:16px;border:2px solid #444;background:#333;color:white;border-radius:12px;font-size:1.1rem;margin:1rem 0}
.modal-box button{background:var(--am);color:black;padding:16px 32px;border:none;border-radius:50px;font-size:1.2rem;font-weight:900;cursor:pointer}
</style>
</head>
<body>

<header>
  <h1>BANCO DE EXÁMENES</h1>
  <a href="index.html" style="position:absolute;left:20px;top:20px;color:white;font-size:2rem">
    <i class="fas fa-arrow-left"></i> Volver
  </a>
</header>

<div class="container">
  <div id="loading" style="text-align:center;padding:4rem;font-size:1.5rem">Cargando exámenes...</div>

  <h2 class="section-title">Área I</h2><div class="cards" id="area1"></div>
  <div class="upload" onclick="abrirModalExamen('Área I')"><button>SUBIR EXAMEN ÁREA I</button></div>

  <h2 class="section-title">Área II</h2><div class="cards" id="area2"></div>
  <div class="upload" onclick="abrirModalExamen('Área II')"><button>SUBIR EXAMEN ÁREA II</button></div>

  <h2 class="section-title">Área III</h2><div class="cards" id="area3"></div>
  <div class="upload" onclick="abrirModalExamen('Área III')"><button>SUBIR EXAMEN ÁREA III</button></div>

  <h2 class="section-title">Área IV</h2><div class="cards" id="area4"></div>
  <div class="upload" onclick="abrirModalExamen('Área IV')"><button>SUBIR EXAMEN ÁREA IV</button></div>

  <h2 class="section-title">Área V</h2><div class="cards" id="area5"></div>
  <div class="upload" onclick="abrirModalExamen('Área V')"><button>SUBIR EXAMEN ÁREA V</button></div>

  <h2 class="section-title">Concursos Interescolares</h2><div class="cards" id="area6"></div>
  <div class="upload" onclick="abrirModalExamen('Concurso')"><button>SUBIR EXAMEN DE CONCURSO</button></div>
</div>

<!-- MODAL SUBIR EXAMEN -->
<div class="modal" id="modal-examen">
  <div class="modal-box">
    <h2>Subir Examen</h2>
    <p>Escribe el título exacto (se copiará automáticamente):</p>
    <input type="text" id="titulo-examen" placeholder="Ej: Área 3 - Matemática 2025" autofocus>
    <button onclick="confirmarSubidaExamen()">Copiar título y abrir carpeta</button>
  </div>
</div>

<script>
const DEPLOY_URL = "https://script.google.com/macros/s/AKfycbxoPNW7IPyuiP1nUxkhiWCDnYtLFNO4iv-YXaHQPyuGsaRJ3vsBWJnUWyro1I1Q6eCw2w/exec";
const CARPETA_EXAMENES = "1dyNvIL3nEfyjUVLyKgSbwIj-GF6KcNCm";

function abrirModalExamen(area) {
  document.getElementById('titulo-examen').value = area + " - ";
  document.getElementById('modal-examen').classList.add('active');
  document.getElementById('titulo-examen').focus();
}

function confirmarSubidaExamen() {
  const titulo = document.getElementById('titulo-examen').value.trim();
  if (!titulo) return alert("Escribe el título completo");
  
  navigator.clipboard.writeText(titulo).then(() => {
    alert(`¡Título copiado!\n\n"${titulo}"\n\nSe abre la carpeta → pega el nombre al subir`);
    window.open("https://drive.google.com/drive/folders/" + CARPETA_EXAMENES, "_blank");
    document.getElementById('modal-examen').classList.remove('active');
  });
}

// La función cargarExamenes() es la misma que te di antes (la copias completa aquí)
async function cargarExamenes() {
  // ... (igual que en el mensaje anterior)
}
// (pega aquí el código completo de cargarExamenes que ya tienes funcionando)

cargarExamenes();
</script>
</body>
</html>
