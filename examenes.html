<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Banco de Exámenes - IEP San Luis Gonzaga</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
:root{
  --bg:#0f172a;
  --s:#1e293b;
  --t:#e2e8f0;
  --az:#1e40af;
  --am:#fbbf24;
  --rojo:#dc2626;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Inter',sans-serif;
  background:var(--bg);
  color:var(--t);
  padding-top:80px;
  padding-left:280px;
  overflow-x:hidden;
  transition:padding-left .4s;
}

/* ==== MENÚ VERTICAL ==== */
.sidebar{
  position:fixed;
  top:0;left:0;
  width:280px;
  height:100%;
  background:var(--s);
  padding-top:100px;
  box-shadow:4px 0 20px rgba(0,0,0,0.6);
  z-index:100;
  transition:transform .4s;
}
.sidebar .logo{
  position:absolute;
  top:0;left:0;width:100%;
  padding:1.4rem;
  background:var(--am);
  color:black;
  text-align:center;
  font-size:1.9rem;
  font-weight:900;
}

/* Botón Volver dentro del menú */
.sidebar .volver{
  position:absolute;
  top:80px;
  left:0;
  width:100%;
  background:var(--rojo);
  padding:1rem;
  text-align:center;
}
.sidebar .volver a{
  color:white;
  text-decoration:none;
  font-weight:700;
  font-size:1.1rem;
}
.sidebar .volver i{
  margin-right:8px;
}

.sidebar ul{
  list-style:none;
  margin-top:70px; /* espacio para el botón volver */
}
.sidebar ul li a{
  display:block;
  padding:1.2rem 1.8rem;
  color:var(--t);
  text-decoration:none;
  font-weight:500;
  transition:.3s;
}
.sidebar ul li a i{width:30px;margin-right:12px}
.sidebar ul li a:hover,
.sidebar ul li a.active{
  background:var(--az);
  color:white;
  padding-left:2.8rem;
}

/* Hamburguesa móvil */
.menu-toggle{
  position:fixed;
  top:20px;left:20px;
  font-size:2rem;
  color:white;
  background:var(--az);
  width:50px;height:50px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  z-index:101;
  display:none;
}

/* Header (ya no necesita el botón volver) */
header{
  background:var(--s);
  position:fixed;
  top:0;
  left:280px;
  right:0;
  z-index:99;
  padding:1rem;
  text-align:center;
  box-shadow:0 4px 20px rgba(0,0,0,0.5);
  transition:left .4s;
}
header h1{font-size:2.5rem;color:var(--am);font-weight:900}

/* Contenido y tarjetas (sin cambios) */
.container{max-width:1400px;margin:0 auto;padding:2rem}
.section-title{font-size:2.8rem;color:var(--am);text-align:center;margin:4rem 0 2rem}
.cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:2rem;margin-bottom:2rem}
.card{background:var(--s);border-radius:20px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.5);transition:.3s;cursor:pointer}
.card:hover{transform:translateY(-10px)}
.card img{height:200px;width:100%;object-fit:cover}
.card h3{padding:1rem;font-size:1.35rem;text-align:center;font-weight:700}
.btns{text-align:center;padding:1rem}
.btn{padding:0.8rem 1.5rem;margin:0.5rem;border-radius:12px;text-decoration:none;font-weight:700;display:inline-block}
.ver{background:var(--az);color:white}
.desc{background:var(--am);color:black}
.subir{background:var(--s);border:3px dashed var(--az);border-radius:20px;padding:3rem;text-align:center;margin:4rem 0}
.subir button{background:var(--am);color:black;padding:1.2rem 3.5rem;border:none;border-radius:50px;font-size:1.4rem;font-weight:900;cursor:pointer}
.loading{text-align:center;padding:6rem;font-size:1.6rem;color:#888}

/* Responsive */
@media (max-width:992px){
  body{padding-left:0}
  header{left:0}
  .sidebar{transform:translateX(-100%)}
  .sidebar.active{transform:translateX(0)}
  .menu-toggle{display:flex}
}
</style>
</head>
<body>

<!-- Botón hamburguesa móvil -->
<div class="menu-toggle" onclick="document.querySelector('.sidebar').classList.toggle('active')">
  <i class="fas fa-bars"></i>
</div>

<!-- MENÚ VERTICAL con botón VOLVER integrado -->
<nav class="sidebar">
  <div class="logo">SAN LUIS G.</div>
  
  <!-- BOTÓN VOLVER DENTRO DEL MENÚ -->
  <div class="volver">
    <a href="index.html">
      <i class="fas fa-arrow-left"></i> VOLVER AL INICIO
    </a>
  </div>

  <ul>
    <li><a href="#area1" class="active"><i class="fas fa-brain"></i> Área I</a></li>
    <li><a href="#area2"><i class="fas fa-calculator"></i> Área II</a></li>
    <li><a href="#area3"><i class="fas fa-flask"></i> Área III</a></li>
    <li><a href="#area4"><i class="fas fa-book-open"></i> Área IV</a></li>
    <li><a href="#area5"><i class="fas fa-globe"></i> Área V</a></li>
    <li><a href="#area6"><i class="fas fa-trophy"></i> Concursos</a></li>
  </ul>
</nav>

<!-- Header limpio (sin botón volver) -->
<header>
  <h1>BANCO DE EXÁMENES</h1>
</header>

<div class="container">
  <div class="loading" id="loading">Cargando exámenes...</div>

  <!-- ÁREAS (igual que antes) -->
  <h2 class="section-title" id="area1">Área I</h2>
  <div class="cards" id="cont-area1"></div>
  <div class="subir">
    <button onclick="window.open('https://drive.google.com/drive/folders/18QPIPzEixyoOEQpS7AJwz5pVZnlO_buZ','_blank')">
      SUBIR EXAMEN ÁREA I
    </button>
  </div>

  <h2 class="section-title" id="area2">Área II</h2>
  <div class="cards" id="cont-area2"></div>
  <div class="subir">
    <button onclick="window.open('https://drive.google.com/drive/folders/1i6XARtZklKOQlIyI_lvpnV52Bw8IgZmp','_blank')">
      SUBIR EXAMEN ÁREA II
    </button>
  </div>

  <h2 class="section-title" id="area3">Área III</h2>
  <div class="cards" id="cont-area3"></div>
  <div class="subir">
    <button onclick="window.open('https://drive.google.com/drive/folders/1w_sXgXEfhZ3PYCuEri00JtI5CdfU5F1N','_blank')">
      SUBIR EXAMEN ÁREA III
    </button>
  </div>

  <h2 class="section-title" id="area4">Área IV</h2>
  <div class="cards" id="cont-area4"></div>
  <div class="subir">
    <button onclick="window.open('https://drive.google.com/drive/folders/16oCtaxlZHPnIpq2q-b4JPHihW3seYuWU','_blank')">
      SUBIR EXAMEN ÁREA IV
    </button>
  </div>

  <h2 class="section-title" id="area5">Área V</h2>
  <div class="cards" id="cont-area5"></div>
  <div class="subir">
    <button onclick="window.open('https://drive.google.com/drive/folders/1SJxoxe9yJP-ianUI0GNK_VrcuvtWdf77','_blank')">
      SUBIR EXAMEN ÁREA V
    </button>
  </div>

  <h2 class="section-title" id="area6">Concursos Interescolares</h2>
  <div class="cards" id="cont-area6"></div>
  <div class="subir">
    <button onclick="window.open('https://drive.google.com/drive/folders/1OOWIKgEenaueVSBsGYatXcJGmPcHrF3D','_blank')">
      SUBIR EXAMEN DE CONCURSO
    </button>
  </div>
</div>

<script>
// (Todo el script sigue exactamente igual que antes)
const DEPLOY_URL = "https://script.google.com/macros/s/AKfycbxoPNW7IPyuiP1nUxkhiWCDnYtLFNO4iv-YXaHQPyuGsaRJ3vsBWJnUWyro1I1Q6eCw2w/exec";
const CARPETAS = [
  "18QPIPzEixyoOEQpS7AJwz5pVZnlO_buZ","1i6XARtZklKOQlIyI_lvpnV52Bw8IgZmp",
  "1w_sXgXEfhZ3PYCuEri00JtI5CdfU5F1N","16oCtaxlZHPnIpq2q-b4JPHihW3seYuWU",
  "1SJxoxe9yJP-ianUI0GNK_VrcuvtWdf77","1OOWIKgEenaueVSBsGYatXcJGmPcHrF3D"
];
const contenedores = [1,2,3,4,5,6].map(n => document.getElementById('cont-area'+n));

async function cargarTodo() {
  for (let i = 0; i < 6; i++) {
    try {
      const res = await fetch(`${DEPLOY_URL}?carpeta=${CARPETAS[i]}`);
      const archivos = await res.json();
      if (archivos.length === 0) {
        contenedores[i].innerHTML = '<p style="grid-column:1/-1;text-align:center;padding:4rem;color:#888">Aún no hay exámenes</p>';
      } else {
        archivos.forEach(f => {
          const nombre = f.name.replace(/\.pdf$/i, '');
          contenedores[i].innerHTML += `
            <div class="card">
              <img src="https://drive.google.com/thumbnail?id=${f.id}&sz=w400" alt="${nombre}"
                   onerror="this.src='https://via.placeholder.com/340x200/1e293b/ffffff?text=Examen'">
              <h3>${nombre}</h3>
              <div class="btns">
                <a href="https://drive.google.com/file/d/${f.id}/preview" target="_blank" class="btn ver">Ver</a>
                <a href="https://drive.google.com/uc?id=${f.id}&export=download" class="btn desc">Descargar</a>
              </div>
            </div>`;
        });
      }
    } catch (e) {
      contenedores[i].innerHTML = '<p style="color:#ff6b6b;text-align:center">Error al cargar esta área</p>';
    }
  }
  document.getElementById('loading').style.display = 'none';
}

// Resaltar menú al hacer scroll
window.addEventListener('scroll', () => {
  const sections = document.querySelectorAll('.section-title');
  const navLinks = document.querySelectorAll('.sidebar ul a');
  let current = '';
  sections.forEach(s => {
    if (scrollY >= s.offsetTop - 200) current = s.getAttribute('id');
  });
  navLinks.forEach(a => {
    a.classList.remove('active');
    if (a.getAttribute('href') === `#${current}`) a.classList.add('active');
  });
});

cargarTodo();
</script>
</body>
</html>
